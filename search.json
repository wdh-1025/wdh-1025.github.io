[{"title":"蓝牙BLE android6.0的坑","url":"http://www.68blog.cn/2016/11/03/1/","content":"<p>昨天写好蓝牙调试工具，因为一直拿着5.1的机子进行测试，没发现问题，到客户面前演示的时候，客户拿着6.0的手机安装测试，结果，蒙逼了，android6.0竟然扫不到设备，苦逼了好久，OK，开始一步步审查代码。发现<strong>startLeScan</strong>、<strong>stopLeScan</strong>这两个方法被谷歌弃用了，好吧，寻找替代的方法，结果设置参数过于麻烦。</p>\n<p>最后在“权限”上下手，想到以前跟同事说过扫描蓝牙竟然要GPS定位权限，不肥话，测试之，问题解决…</p>\n<p>因为android6.0在安全权限上做了较大的改变，所以搜索蓝牙需要在AndroidManifest.xml上添加该权限并确保你获取了该权限</p>\n<h3 id=\"Permission\"><a href=\"#Permission\" class=\"headerlink\" title=\"Permission\"></a>Permission</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">uses-permission android:name=<span class=\"string\">\"android.permission.ACCESS_COARSE_LOCATION\"</span></div></pre></td></tr></table></figure>\n"},{"title":"about","url":"http://www.68blog.cn/about/index.html","content":""},{"title":"index","url":"http://www.68blog.cn/index/index.html","content":""},{"title":"link","url":"http://www.68blog.cn/link/index.html","content":""},{"title":"search","url":"http://www.68blog.cn/search/index.html","content":""},{"title":"tag","url":"http://www.68blog.cn/tag/index.html","content":""}]